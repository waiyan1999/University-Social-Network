<h1 class="mb-1"><%= @profile&.full_name || @user.email %></h1>
<p class="mb-1"><strong>Major:</strong> <%= @profile&.major || "-" %></p>
<p class="mb-3"><strong>Year:</strong> <%= @profile&.year&.humanize || "-" %></p>

<% if user_signed_in? && current_user != @user %>
  <% if current_user.following.exists?(@user.id) %>
    <%= button_to "Unfollow", user_follow_path(@user), method: :delete, class: "btn btn-sm btn-outline-secondary mb-3" %>
  <% else %>
    <%= button_to "Follow", user_follow_path(@user), method: :post, class: "btn btn-sm btn-primary mb-3" %>
  <% end %>
<% end %>

<h3 class="mt-3">Posts</h3>
<% @posts.each do |post| %>
  <div class="card mb-3">
    <div class="card-body">
      <% if post.photo.attached? %>
        <div class="mb-2">
          <%= image_tag post.photo.variant(resize_to_limit: [900, 900]), class: "img-fluid rounded" %>
        </div>
      <% end %>
      <p class="mb-0"><%= simple_format(post.body) %></p>
    </div>
  </div>
<% end %>
